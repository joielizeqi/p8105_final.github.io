<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Cumulative impact of various factors on dog bite incidents</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="report.html">Report</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="team.html">Team</a>
    </li>
    <li>
      <a href="datasource.html">Data source</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="eda.html">Exploratory Data Analysis</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="trends.html">Dog bite incidence trends</a>
    </li>
    <li>
      <a href="correlation.html">Spatial correlations</a>
    </li>
    <li>
      <a href="regression.html">Modeling dog bite incidences</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://zhenkunnfang.shinyapps.io/shiny_app-1/">Shiny</a>
</li>
<li>
  <a href="https://www.youtube.com/">
    <span class="fa fa-youtube-play"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/joielizeqi/p8105_final.github.io.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Cumulative impact of various factors on dog
bite incidents</h1>

</div>


<div id="variable-features" class="section level1">
<h1>Variable features</h1>
</div>
<div id="negative-binomial-regression-analysis" class="section level1">
<h1>Negative Binomial Regression Analysis</h1>
<p>To measure the combined effects of year, dog background
characteristics (i.e., breed, gender, age, and whether neutered) and the
Borough they belong to on the incidence of dog bites, we first conduct a
negative binomial regression analysis using records of dog bite
incidents in New York.</p>
<p>The negative binomial regression model is a type of count model
designed for dependent variables that can only take non-negative integer
values. From the Spatial Correlations section, the study area meets the
three prerequisites for negative binomial regression: the dog bite
incidents are not independent, exhibiting spatial clustering; the
dependent variable shows overdispersion; and the frequency of dog bite
incidents is sufficiently low.</p>
<p>本文假设的因变量是各zipcode的狗咬伤事件发生数量，which呈现负二项分布。Predictor
variables包括事件发生的年份和月份，狗的背景特征和事件发生区域。其中，年份被测量为一个区间级变量，值从1（对应于2015年）到7（对应于2021年）。事件发生的地区将被划分为值从1-6的变量，分别代表纽约市的5个区还有others。狗的gender是一个二分变量，值为0表示未知，1表示male，2表示female。类似的，狗的绝育状态也是一个二分变量，值为0表示未绝育，1表示已绝育。模型方程如下：</p>
<p><span class="math display">\[\ln ({\hat y_i}) = {\beta _0} + {\beta
_1}{X_{i1}} + {\beta _2}{X_{i2}} +  \cdots {\beta _m}{X_{im}} +
\xi\]</span> Here, <span class="math inline">\({y_i}\)</span> represents
the frequency of dog bite incidents within a year, <span
class="math inline">\({\beta _m}\)</span> is the coefficient, <span
class="math inline">\(X_m\)</span> are the explanatory variables, and
<span class="math inline">\(\xi\)</span> represents the heterogeneity
across observations.</p>
<p>In negative binomial regression, where the conditional expectation
<span class="math inline">\(E(Y|X) = {e^{{\beta _0} + {\beta _1}{X_{i1}}
+ {\beta _2}{X_{i2}} +  \cdots {\beta _m}{X_{im}}}}\)</span>, the
interpretation of the model’s coefficients is as follows: when the
explanatory variable <span class="math inline">\({X_k}\)</span>
increases by one unit, the average occurrence rate of dog bite incidents
becomes <span class="math inline">\({e^{{\beta _k}}}\)</span> times what
it was originally.</p>
<p><span class="math display">\[\frac{{E(Y|{X^*})}}{{E(Y|X)}} =
\frac{{{e^{{\beta _0} + {\beta _1}{X_{i1}} +  \cdots  + {\beta
_k}({X_{ik}} + 1) +  \cdots  + {\beta _m}{X_{im}}}}}}{{{e^{{\beta _0} +
{\beta _1}{X_{i1}} +  \cdots  + {\beta _k}{X_{ik}} +  \cdots  + {\beta
_m}{X_{im}}}}}} = {e^{{\beta _k}}}\]</span></p>
</div>
<div id="generalized-linear-mixed-model-glmm" class="section level1">
<h1>Generalized Linear Mixed Model (GLMM)</h1>
<p>另一方面，本文进一步使用Generalized Linear Mixed Model
(GLMM)验证所得的回归结果。</p>
<p>The Generalized Linear Mixed Model (GLMM) is an extension of the
Generalized Linear Model (GLM) and the Linear Mixed Model (LMM). GLMM
consists of three main components: random effects, fixed effects, and a
link function. Fixed effects represent the overall level parameters
consistent across all observations, while random effects account for
individual variability or group-level differences that may influence the
response variable. The link function connects the linear predictor to
the mean of the response variable distribution, allowing the dependent
variable to deviate from a normal distribution and enabling modeling of
various types of data, including binary, count, and continuous
outcomes.</p>
<p>Let the response variable <span class="math inline">\(y\)</span>
belongs to the exponential family, its conditional distribution can be
expressed as follows:</p>
<p><span class="math display">\[f(y|b) = \prod\limits_{i = 1}^n
{f({y_i}|{\eta _i})}\]</span></p>
<p>Where <span class="math inline">\({\eta _i} = {x_i}^ \top \beta  +
{z_i}^ \top b\)</span>. Additionally, the random effect <span
class="math inline">\(b\)</span> is assumed to be distributed according
to <span class="math inline">\(b \sim {\rm N}(0,\Sigma )\)</span>.</p>
<p>Therefore the GLMM is structured as follows:</p>
<p><span class="math display">\[g(\vec {\rm E}(y)) = {\rm X}\vec
\beta  + {\rm Z}\vec b + \varepsilon\]</span></p>
<p>In the model, <span class="math inline">\(g( \cdot )\)</span>
represents the link function, which connects the expected value of the
response variable to the linear predictor. Here, the logarithm function
<span class="math inline">\(g(\mu ) = \ln (\mu )\)</span> is used, which
is appropriate for the Poisson distribution. <span
class="math inline">\(\vec{\mathrm{E}}(y)\)</span> denotes the vector of
expected values for the response variable, and <span
class="math inline">\(\varepsilon\)</span> represents the error term,
capturing random noise or the unexplained variance. <span
class="math inline">\({\rm X}\vec \beta  + {\rm Z}\vec b\)</span>
represents the linear combination of fixed and random effects, <span
class="math inline">\({\rm X}\vec \beta\)</span> is used to explain
global trends, and <span class="math inline">\({\rm Z}\vec b\)</span> is
utilized to capture differences among observations. In this context,
<span class="math inline">\({\rm X}\)</span> is the design matrix for
fixed effects, which is of order <span class="math inline">\(n \times
p\)</span>, where <span class="math inline">\(n\)</span> is the number
of observations and <span class="math inline">\(p\)</span> is the number
of fixed effect variables; <span class="math inline">\(\vec
\beta\)</span> is the vector of coefficients for fixed effects, with
each element representing the regression coefficient of a fixed effect
variable. Similarly, <span class="math inline">\({\rm Z}\)</span> also
serves as the design matrix for random effects, of order <span
class="math inline">\(n \times q\)</span>, where <span
class="math inline">\(q\)</span> is the number of random effect
variables. <span class="math inline">\(\vec b\)</span> is the vector of
coefficients for random effects, representing inter-group deviations
used to explain random differences between groups. The model assumes
<span class="math inline">\(b \sim {\rm N}(0,\Sigma )\)</span>, thereby
the random effects are normally distributed with a mean of <span
class="math inline">\(0\)</span> and a covariance matrix <span
class="math inline">\(\Sigma\)</span>.</p>
<p>对于狗咬伤事件数据集，响应变量<span
class="math inline">\(y\)</span>为每月每zipcode的事件的发生，固定效应包括温度和湿度。随机效应为不同实验员（10
个实验员）。因此，对于所有响应变量，<span class="math inline">\({\rm
X}\)</span>是包含年份，月份，地区，性别，绝育状态的矩阵；<span
class="math inline">\(\vec \beta\)</span>为固定效应系数；<span
class="math inline">\({\rm
X}\)</span>表示每个响应变量所属品种的矩阵；<span
class="math inline">\(\vec
b\)</span>为每个品种的偏差值（随机效应）。</p>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
